<h2>🛒 我的購物車</h2>

<div *ngIf="cartItems.length === 0">
  <p>購物車是空的！</p>
</div>

<table *ngIf="cartItems.length > 0" class="ui celled table">
  <thead>
    <tr>
      <th>圖片</th>
      <th>產品名稱</th>
      <th>數量</th>
      <th>單價</th>
      <th>總價</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of cartItems; let i = index">
      <td><img [src]=" item.image_url" width="80"></td>
      <td>{{ item.name }}</td>
      <td>{{ item.quantity }}</td>
      <td>{{ item.price }} HKD</td>
      <td>{{ item.quantity * item.price }} HKD</td>
      <td><button class="ui red button" (click)="removeItem(i)">移除</button></td>
    </tr>
  </tbody>
</table>

<div class="ui segment">
  <h3>總數量：{{ totalQuantity }} 件</h3>
  <h3>總金額：{{ totalPrice }} HKD</h3>
</div>

<button *ngIf="cartItems.length > 0" class="ui primary button" (click)="goToCheckout()">🔵 前往結帳</button>
<button *ngIf="cartItems.length > 0" class="ui negative button" (click)="clearCart()">清空購物車</button>

<!-- 訂單成功訊息 -->
<div *ngIf="orderSuccess" class="ui positive message">
  <p>🎉 訂單已成功提交！</p>
</div>
