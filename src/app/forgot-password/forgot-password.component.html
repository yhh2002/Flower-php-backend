<h2>🔑 忘記密碼</h2>

<!-- 1️⃣ 🔹 輸入 Email 步驟 -->
<div *ngIf="step === 1">
  <p>請輸入您的 Email，我們將發送驗證碼給您。</p>
  <div class="ui fluid input">
    <input type="email" placeholder="輸入 Email" [(ngModel)]="email" [disabled]="isLoading">
  </div>
  
  <button class="ui primary fluid button" (click)="sendVerificationCode()" [disabled]="isLoading">
    <span *ngIf="isLoading"><i class="spinner loading icon"></i> 發送中...</span>
    <span *ngIf="!isLoading">發送驗證碼</span>
  </button>
</div>

<!-- 2️⃣ 🔹 輸入驗證碼 步驟 -->
<div *ngIf="step === 2">
  <p>請輸入收到的 6 位數驗證碼。</p>
  <div class="ui fluid input">
    <input type="text" placeholder="輸入驗證碼" [(ngModel)]="verificationCode">
  </div>
  <button class="ui primary fluid button" (click)="verifyCode()">驗證</button>
</div>

<!-- 3️⃣ 🔹 設定新密碼 步驟 -->
<div *ngIf="step === 3">
  <p>請輸入您的新密碼。</p>
  <div class="ui fluid input">
    <input type="password" placeholder="輸入新密碼" [(ngModel)]="newPassword">
  </div>
  <button class="ui primary fluid button" (click)="resetPassword()">重置密碼</button>
</div>

<!-- 🔹 顯示錯誤或成功訊息 -->
<div *ngIf="errorMessage" class="ui message" [ngClass]="{'positive': isSuccess, 'negative': !isSuccess}">
  {{ errorMessage }}
</div>

<div class="ui divider"></div>
<a routerLink="/login" class="ui button">返回登入</a>
